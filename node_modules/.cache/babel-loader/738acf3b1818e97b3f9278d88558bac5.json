{"ast":null,"code":"var _jsxFileName = \"/Users/factweavers/Sites/musetown_ui/src/Routes/Home/index.js\";\n\n/* eslint-disable max-lines */\n\n/* eslint-disable weavers-react/react_maxlines_per_function */\n\n/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport style from './style.module.scss';\nimport Logo from '../../../public/img/MuSE_logo.png';\nimport InputField from '../../Components/InputField';\nimport { getSearchResults } from '../../api/getSearchResults';\nimport { Card, CardBody } from '../../Components/Card';\nimport { ContentLoader } from '../../Components/ContentLoader';\nimport { makeUrl, parseWebUrl } from '../../utils/queryString';\nimport EmptyState, { TYPES } from '../../Components/EmptyState';\nimport OutPutContainer from './Children/OutPutContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: false,\n      error: false,\n      value: null,\n      checkedExact: false,\n      outputLabel: 'Here are your 10K+ results for ...',\n      exactCreators: [],\n      creators: [],\n      total: 1,\n      videos: [],\n      offset: 0,\n      clickedShowMore: false,\n      stopShowMore: false\n    };\n\n    this.componentDidMount = () => {\n      let urlParams = this.getUrlParams();\n\n      if (urlParams.search) {\n        this.setState({\n          value: urlParams.search\n        });\n        if (urlParams.checked) this.setState({\n          checkedExact: urlParams.checked\n        });\n        this.handleSubmit();\n      }\n    };\n\n    this.handleSearchInput = _ref => {\n      let {\n        value\n      } = _ref;\n      this.setState({\n        value\n      });\n    };\n\n    this.handleCheck = _ref2 => {\n      let {\n        value\n      } = _ref2;\n      this.setState({\n        checkedExact: value\n      });\n    };\n\n    this.handleSubmit = async () => {\n      let payload = {\n        keyword: this.state.value,\n        exact_match_opt: this.state.checkedExact,\n        offset: this.state.offset\n      };\n      let urlParams = this.getUrlParams();\n      if (this.state.value) this.setWebUrlParam({ ...urlParams,\n        search: this.state.value,\n        checked: this.state.checkedExact\n      });\n      this.setState({\n        loading: true,\n        error: false\n      });\n      await this.submitAction(payload);\n    };\n\n    this.getMoreCreators = async () => {\n      this.setState({\n        clickedShowMore: true\n      });\n      this.interval = setInterval(() => {\n        this.handleSubmit(this.state.offset + 4);\n        this.setState({\n          offset: this.state.offset + 4\n        });\n      }, 5000);\n      this.setState({\n        offset: this.state.offset + 4\n      });\n    };\n\n    this.submitAction = async payload => {\n      try {\n        let response = await getSearchResults(payload);\n        let {\n          exact_creators: exactCreators = [],\n          creators = [],\n          total,\n          videos\n        } = response;\n        let {\n          creators: oldCreators,\n          videos: oldVideos\n        } = this.state;\n\n        if (oldCreators.length) {\n          let oldLength = oldCreators.length;\n          creators.forEach(item => {\n            let index = oldCreators.findIndex(old => old.id === item.id);\n            if (index < 0) oldCreators.push(item);\n          });\n          creators = oldCreators;\n          if (oldLength === oldCreators.length) this.setState({\n            stopShowMore: true\n          });\n        }\n\n        if (oldVideos.length) videos = [...oldVideos, ...videos];\n        this.setState({\n          exactCreators,\n          creators,\n          loading: false,\n          total: total.value,\n          videos,\n          outputLabel: `Here are your ${total.value} results for ${this.state.value}`\n        });\n      } catch (error) {\n        this.setState({\n          loading: false,\n          error: true\n        });\n      }\n    };\n\n    this.setWebUrlParam = paramJson => {\n      let {\n        location: {\n          pathname\n        }\n      } = this.props;\n      this.props.history.replace({\n        pathname: pathname,\n        search: makeUrl(paramJson)\n      });\n    };\n\n    this.getUrlParams = () => {\n      let urlParams = parseWebUrl(this.props.location.search);\n      return urlParams;\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.offset !== this.state.offset) {\n      this.handleSubmit();\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      exactCreators = [],\n      creators = [],\n      loading,\n      videos = [],\n      clickedShowMore,\n      error,\n      stopShowMore\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.logo,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Logo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.inputFieldSearch,\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          placeholderLabel: 'Search',\n          htmlForName: \"search\",\n          onPressEnter: this.handleSubmit,\n          onChange: this.handleSearchInput,\n          value: this.state.value,\n          showLabel: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), loading && !clickedShowMore ? /*#__PURE__*/_jsxDEV(LoaderItem, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this) : exactCreators.length || creators.length ? /*#__PURE__*/_jsxDEV(OutPutContainer, {\n        searchText: this.state.value,\n        creators: creators,\n        exactCreators: exactCreators,\n        videos: videos,\n        clickedShowMore: clickedShowMore,\n        getMoreCreators: this.getMoreCreators,\n        loading: loading,\n        stopShowMore: stopShowMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this) : this.getUrlParams().search && (!exactCreators.length || !creators.length) ? error ? /*#__PURE__*/_jsxDEV(EmptyState, {\n        title: 'Error, Something went wrong',\n        type: TYPES.RESULTS\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        title: 'No creators found',\n        type: TYPES.RESULTS\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;\n\nfunction LoaderItem() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [1, 2].map((result, index) => /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(ContentLoader, {\n          hasWrapper: true,\n          height: 0.8,\n          spaceBetween: 0.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n\n_c = LoaderItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoaderItem\");","map":{"version":3,"sources":["/Users/factweavers/Sites/musetown_ui/src/Routes/Home/index.js"],"names":["React","Component","Link","style","Logo","InputField","getSearchResults","Card","CardBody","ContentLoader","makeUrl","parseWebUrl","EmptyState","TYPES","OutPutContainer","Home","state","loading","error","value","checkedExact","outputLabel","exactCreators","creators","total","videos","offset","clickedShowMore","stopShowMore","componentDidMount","urlParams","getUrlParams","search","setState","checked","handleSubmit","handleSearchInput","handleCheck","payload","keyword","exact_match_opt","setWebUrlParam","submitAction","getMoreCreators","interval","setInterval","response","exact_creators","oldCreators","oldVideos","length","oldLength","forEach","item","index","findIndex","old","id","push","paramJson","location","pathname","props","history","replace","componentDidUpdate","prevProps","prevState","componentWillUnmount","clearInterval","render","logo","inputFieldSearch","RESULTS","LoaderItem","map","result"],"mappings":"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","sourcesContent":["/* eslint-disable max-lines */\n/* eslint-disable weavers-react/react_maxlines_per_function */\n/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport style from './style.module.scss';\nimport Logo from '../../../public/img/MuSE_logo.png';\nimport InputField from '../../Components/InputField';\nimport { getSearchResults } from '../../api/getSearchResults';\nimport { Card, CardBody } from '../../Components/Card';\nimport { ContentLoader } from '../../Components/ContentLoader';\nimport { makeUrl, parseWebUrl } from '../../utils/queryString';\nimport EmptyState, { TYPES } from '../../Components/EmptyState';\nimport OutPutContainer from './Children/OutPutContainer';\nclass Home extends Component {\n  state = {\n    loading: false,\n    error: false,\n    value: null,\n    checkedExact: false,\n    outputLabel: 'Here are your 10K+ results for ...',\n    exactCreators: [],\n    creators: [],\n    total: 1,\n    videos: [],\n    offset: 0,\n    clickedShowMore: false,\n    stopShowMore: false,\n  };\n\n  componentDidMount = () => {\n    let urlParams = this.getUrlParams();\n    if (urlParams.search) {\n      this.setState({ value: urlParams.search });\n      if (urlParams.checked) this.setState({ checkedExact: urlParams.checked });\n      this.handleSubmit();\n    }\n  };\n\n  handleSearchInput = ({ value }) => {\n    this.setState({ value });\n  };\n  handleCheck = ({ value }) => {\n    this.setState({ checkedExact: value });\n  };\n\n  handleSubmit = async () => {\n    let payload = {\n      keyword: this.state.value,\n      exact_match_opt: this.state.checkedExact,\n      offset: this.state.offset,\n    };\n    let urlParams = this.getUrlParams();\n    if (this.state.value)\n      this.setWebUrlParam({\n        ...urlParams,\n        search: this.state.value,\n        checked: this.state.checkedExact,\n      });\n    this.setState({ loading: true, error: false });\n    await this.submitAction(payload);\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.offset !== this.state.offset) {\n      this.handleSubmit();\n    }\n  }\n\n  getMoreCreators = async () => {\n    this.setState({ clickedShowMore: true });\n    this.interval = setInterval(() => {\n      this.handleSubmit(this.state.offset + 4);\n      this.setState({ offset: this.state.offset + 4 });\n    }, 5000);\n    this.setState({ offset: this.state.offset + 4 });\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  submitAction = async (payload) => {\n    try {\n      let response = await getSearchResults(payload);\n      let {\n        exact_creators: exactCreators = [],\n        creators = [],\n        total,\n        videos,\n      } = response;\n      let { creators: oldCreators, videos: oldVideos } = this.state;\n      if (oldCreators.length) {\n        let oldLength = oldCreators.length;\n        creators.forEach((item) => {\n          let index = oldCreators.findIndex((old) => old.id === item.id);\n          if (index < 0) oldCreators.push(item);\n        });\n        creators = oldCreators;\n        if (oldLength === oldCreators.length)\n          this.setState({ stopShowMore: true });\n      }\n\n      if (oldVideos.length) videos = [...oldVideos, ...videos];\n      this.setState({\n        exactCreators,\n        creators,\n        loading: false,\n        total: total.value,\n        videos,\n        outputLabel: `Here are your ${total.value} results for ${this.state.value}`,\n      });\n    } catch (error) {\n      this.setState({ loading: false, error: true });\n    }\n  };\n\n  setWebUrlParam = (paramJson) => {\n    let {\n      location: { pathname },\n    } = this.props;\n    this.props.history.replace({\n      pathname: pathname,\n      search: makeUrl(paramJson),\n    });\n  };\n\n  getUrlParams = () => {\n    let urlParams = parseWebUrl(this.props.location.search);\n    return urlParams;\n  };\n\n  render() {\n    const {\n      exactCreators = [],\n      creators = [],\n      loading,\n      videos = [],\n      clickedShowMore,\n      error,\n      stopShowMore,\n    } = this.state;\n    return (\n      <div>\n        <div className={style.logo}>\n          <Link>\n            <img src={Logo} />\n          </Link>\n        </div>\n        <div className={style.inputFieldSearch}>\n          <InputField\n            placeholderLabel={'Search'}\n            htmlForName='search'\n            onPressEnter={this.handleSubmit}\n            onChange={this.handleSearchInput}\n            value={this.state.value}\n            showLabel={false}\n          />\n        </div>\n\n        {loading && !clickedShowMore ? (\n          <LoaderItem />\n        ) : exactCreators.length || creators.length ? (\n          <OutPutContainer\n            searchText={this.state.value}\n            creators={creators}\n            exactCreators={exactCreators}\n            videos={videos}\n            clickedShowMore={clickedShowMore}\n            getMoreCreators={this.getMoreCreators}\n            loading={loading}\n            stopShowMore={stopShowMore}\n          />\n        ) : this.getUrlParams().search &&\n          (!exactCreators.length || !creators.length) ? (\n          error ? (\n            <EmptyState\n              title={'Error, Something went wrong'}\n              type={TYPES.RESULTS}\n            />\n          ) : (\n            <EmptyState title={'No creators found'} type={TYPES.RESULTS} />\n          )\n        ) : null}\n      </div>\n    );\n  }\n}\nexport default Home;\n\nfunction LoaderItem() {\n  return (\n    <>\n      {[1, 2].map((result, index) => (\n        <Card key={index}>\n          <CardBody>\n            <ContentLoader hasWrapper={true} height={0.8} spaceBetween={0.5} />\n          </CardBody>\n        </Card>\n      ))}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}